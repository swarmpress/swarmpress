# Installation Guide

> **Last Updated:** 2026-01-25
> **Status:** Current

This guide walks you through setting up swarm.press for local development.

---

## Prerequisites

Before installing swarm.press, ensure you have:

| Requirement | Version | Purpose |
|-------------|---------|---------|
| **Node.js** | 20+ | JavaScript runtime |
| **pnpm** | 8+ | Package manager |
| **Docker** | Latest | Infrastructure containers |
| **Docker Compose** | Latest | Multi-container orchestration |

### API Keys Required

| Service | Purpose | Required |
|---------|---------|----------|
| **Anthropic API Key** | Claude agents | Yes |
| **GitHub OAuth** | User authentication | For GitHub features |
| **Unsplash API Key** | Stock photos | Optional |

---

## Step 1: Clone Repository

```bash
git clone <repo-url>
cd swarm-press
```

---

## Step 2: Install Dependencies

```bash
pnpm install
```

This installs dependencies for all packages in the monorepo:
- `packages/backend` - API server
- `packages/agents` - 11+ AI agents
- `packages/workflows` - 12 Temporal workflows
- `packages/shared` - Types and schemas
- `packages/event-bus` - NATS integration
- `packages/site-builder` - Astro generator
- `packages/github-integration` - GitHub collaboration
- `apps/admin` - Admin dashboard
- `apps/docs` - Documentation site

---

## Step 3: Configure Environment

Copy the example environment file:

```bash
cp .env.example .env
```

Edit `.env` with your configuration:

```bash
# Required
ANTHROPIC_API_KEY=your-anthropic-api-key
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/swarmpress

# GitHub (for OAuth and integration)
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_REDIRECT_URI=http://localhost:3002/api/auth/callback

# Optional services
UNSPLASH_ACCESS_KEY=your-unsplash-key
```

---

## Step 4: Start Infrastructure

Start the required services with Docker Compose:

```bash
docker compose up -d
```

This starts:

| Service | Port | Purpose |
|---------|------|---------|
| **PostgreSQL** | 5432 | Main database |
| **NATS JetStream** | 4222 | Event bus |
| **Temporal Server** | 7233 | Workflow orchestration |
| **Temporal UI** | 8233 | Workflow monitoring |

Verify services are running:

```bash
docker compose ps
```

---

## Step 5: Initialize Database

Run the bootstrap script to create tables and seed initial data:

```bash
npx tsx scripts/bootstrap.ts
```

This creates:
- Database schema (all tables)
- Default company and departments
- Initial roles and agents
- Sample website configuration

---

## Step 6: Start Development Servers

Start all services with a single command:

```bash
pnpm dev
```

Or start services individually:

```bash
# Backend API (port 3000)
pnpm --filter @swarm-press/backend dev

# Admin Dashboard (port 3002)
pnpm --filter @swarm-press/admin dev

# Temporal Worker
pnpm --filter @swarm-press/workflows dev

# Documentation (port 5173)
pnpm --filter docs dev
```

---

## Step 7: Verify Installation

### Check API Health

```bash
curl http://localhost:3000/health
```

Expected response:
```json
{
  "status": "healthy",
  "services": {
    "database": "connected",
    "eventBus": "connected",
    "temporal": "connected"
  }
}
```

### Access Applications

| Application | URL | Description |
|-------------|-----|-------------|
| **Admin Dashboard** | http://localhost:3002 | Main admin interface |
| **API Server** | http://localhost:3000 | Backend API |
| **tRPC Endpoint** | http://localhost:3000/api/trpc | API endpoint |
| **Temporal UI** | http://localhost:8233 | Workflow monitoring |
| **Documentation** | http://localhost:5173 | This documentation |

---

## Optional: Set Up Agent Schedules

Initialize autonomous agent schedules:

```bash
npx tsx scripts/setup-schedules.ts
```

This creates default schedules for:
- Daily scheduled content publishing
- Daily media validation
- Weekly link checking
- Monthly stale content detection

---

## Project Structure

After installation, your directory structure is:

```
swarm-press/
├── packages/
│   ├── backend/          # API server (27 routers, 17 services)
│   ├── agents/           # 11+ Claude agents
│   ├── workflows/        # 12 Temporal workflows
│   ├── shared/           # Types, 67 block schemas
│   ├── event-bus/        # NATS CloudEvents
│   ├── site-builder/     # Astro generator
│   ├── github-integration/ # GitHub collaboration
│   └── cli/              # CLI tools
├── apps/
│   ├── admin/            # Admin dashboard
│   ├── dashboard/        # CEO dashboard
│   └── docs/             # Documentation
├── scripts/              # 50+ operational scripts
├── specs/                # 13 specifications
├── docker-compose.yml    # Infrastructure
└── .env                  # Environment config
```

---

## Troubleshooting

### Port Already in Use

```bash
# Find and kill process on port 3000
lsof -ti:3000 | xargs kill -9

# Or for port 3002
lsof -ti:3002 | xargs kill -9
```

### Database Connection Failed

1. Verify Docker is running:
```bash
docker compose ps
```

2. Check PostgreSQL logs:
```bash
docker compose logs postgres
```

3. Verify connection string in `.env`

### Temporal Not Connecting

1. Check Temporal is healthy:
```bash
docker compose logs temporal
```

2. Ensure Temporal UI is accessible at http://localhost:8233

3. Restart Temporal if needed:
```bash
docker compose restart temporal
```

### Build Errors

1. Clear node_modules and reinstall:
```bash
rm -rf node_modules
rm -rf packages/*/node_modules
rm -rf apps/*/node_modules
pnpm install
```

2. Clear Turborepo cache:
```bash
pnpm turbo clean
```

---

## Next Steps

After successful installation:

1. **Explore the Admin Dashboard** - Navigate to http://localhost:3002
2. **Read the Architecture** - [Overview](/architecture/overview)
3. **Set Up GitHub OAuth** - [GitHub OAuth Guide](/guides/github-oauth)
4. **Configure Schedules** - [Scheduling Guide](/guides/scheduling)
5. **Deploy to Production** - [Deployment Guide](/guides/deployment)

---

## Updating

To update your installation:

```bash
git pull origin main
pnpm install
npx tsx scripts/bootstrap.ts  # Apply any schema changes
```

---

## Uninstalling

To completely remove swarm.press:

```bash
# Stop and remove containers
docker compose down -v

# Remove node modules
rm -rf node_modules packages/*/node_modules apps/*/node_modules

# Remove environment file
rm .env
```
