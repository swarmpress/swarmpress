---
/**
 * Editorial Interlude Block - JSON-compatible wrapper
 * Renders EditorialInterlude with icon from props instead of slot
 */
interface Props {
  badge?: string;
  title: string;
  quote: string;
  interludeType?: 'primary' | 'secondary';
  align?: 'left' | 'right';
  icon?: string;
}

const {
  badge = "Editorial Interlude",
  title,
  quote,
  interludeType = 'primary',
  align = 'left',
  icon
} = Astro.props;

const bgClass = interludeType === 'primary' ? 'bg-primary/5' : 'bg-secondary/40';
const textAlignClass = align === 'left' ? 'text-left' : 'text-right';
const marginClass = align === 'left' ? '' : 'ml-auto';
---

<div class={`${bgClass} rounded-3xl p-12 md:p-20 my-24 relative overflow-hidden group`}>
    {icon && (
        <div class={`absolute ${align === 'left' ? 'top-0 right-0 -translate-y-1/4 translate-x-1/4' : 'bottom-0 left-0 translate-y-1/4 -translate-x-1/4'} opacity-[0.03] group-hover:opacity-[0.05] transition-opacity duration-700 w-64 h-64 text-foreground`}>
            <!-- Icon would be rendered here if provided -->
        </div>
    )}
    <div class={`max-w-3xl relative ${textAlignClass} ${marginClass}`}>
        <span class="text-[10px] font-bold uppercase tracking-[0.3em] text-primary mb-6 block">{badge}</span>
        <h3 class="font-serif text-3xl md:text-4xl font-bold mb-6">{title}</h3>
        <p class="text-xl text-muted-foreground leading-relaxed font-light italic">
            "{quote}"
        </p>
    </div>
</div>
