---
/**
 * Stats Section - Stepped
 * Stats in stepped card layout
 * Based on: tailwindcss-plus-components/marketing/sections/stats-sections/stepped.html
 */

export interface SteppedStat {
  value: string
  title: string
  description: string
  variant?: 'light' | 'dark' | 'brand'
}

export interface Props {
  heading?: string
  description?: string
  stats: SteppedStat[]
}

const {
  heading = 'We approach work as a place to make the world better',
  description = 'Diam nunc lacus lacus aliquam turpis enim. Eget hac velit est euismod lacus. Est non placerat nam arcu. Cras purus nibh cursus sit eu in id. Integer vel nibh.',
  stats = [],
} = Astro.props

const variantClasses = {
  light: 'bg-gray-50 dark:bg-white/5',
  dark: 'bg-gray-900 dark:bg-gray-700',
  brand: 'bg-indigo-600',
}

const textClasses = {
  light: {
    value: 'text-gray-900 dark:text-white',
    title: 'text-gray-900 dark:text-white',
    description: 'text-gray-600 dark:text-gray-300',
  },
  dark: {
    value: 'text-white',
    title: 'text-white',
    description: 'text-gray-400 dark:text-gray-300',
  },
  brand: {
    value: 'text-white',
    title: 'text-white',
    description: 'text-indigo-200 dark:text-indigo-100',
  },
}
---

<div class="bg-white py-24 sm:py-32 dark:bg-gray-900">
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="mx-auto max-w-2xl lg:mx-0">
      <h2 class="text-4xl font-semibold tracking-tight text-pretty text-gray-900 sm:text-5xl dark:text-white">{heading}</h2>
      <p class="mt-6 text-base/7 text-gray-600 dark:text-gray-300">{description}</p>
    </div>
    <div class="mx-auto mt-16 flex max-w-2xl flex-col gap-8 lg:mx-0 lg:mt-20 lg:max-w-none lg:flex-row lg:items-end">
      {stats.map((stat, idx) => {
        const variant = stat.variant || (idx === 0 ? 'light' : idx === 1 ? 'dark' : 'brand')
        return (
          <div class={`flex flex-col-reverse justify-between gap-x-16 gap-y-8 rounded-2xl p-8 sm:w-3/4 sm:max-w-md sm:flex-row-reverse sm:items-end lg:w-72 lg:max-w-none lg:flex-none lg:flex-col lg:items-start dark:ring-1 dark:ring-inset dark:ring-white/10 ${variantClasses[variant]} ${idx === 1 ? 'lg:w-full lg:max-w-sm lg:flex-auto lg:gap-y-44' : idx === 2 ? 'sm:w-11/12 sm:max-w-xl lg:w-full lg:max-w-none lg:flex-auto lg:gap-y-28' : ''}`}>
            <p class={`flex-none text-3xl font-bold tracking-tight ${textClasses[variant].value}`}>{stat.value}</p>
            <div class="sm:w-80 sm:shrink lg:w-auto lg:flex-none">
              <p class={`text-lg font-semibold tracking-tight ${textClasses[variant].title}`}>{stat.title}</p>
              <p class={`mt-2 text-base/7 ${textClasses[variant].description}`}>{stat.description}</p>
            </div>
          </div>
        )
      })}
    </div>
  </div>
</div>
