---
/**
 * Feature Section - With Testimonial
 * A split layout with CTA, testimonial, and product screenshot
 * Based on: tailwindcss-plus-components/marketing/sections/feature-sections/with_testimonial.html
 */

export interface Testimonial {
  quote: string
  author: string
  role: string
  avatar?: string
}

export interface Props {
  eyebrow?: string
  title: string
  description?: string
  ctaText?: string
  ctaUrl?: string
  testimonial?: Testimonial
  screenshot?: string
  screenshotAlt?: string
}

const {
  eyebrow,
  title,
  description,
  ctaText,
  ctaUrl,
  testimonial,
  screenshot,
  screenshotAlt = 'Product screenshot',
} = Astro.props
---

<div class="overflow-hidden bg-white py-24 sm:py-32 dark:bg-gray-900">
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="mx-auto grid max-w-2xl grid-cols-1 gap-x-8 gap-y-16 sm:gap-y-20 lg:mx-0 lg:max-w-none lg:grid-cols-2 lg:items-start">
      <div class="lg:pt-4 lg:pr-4">
        <div class="lg:max-w-lg">
          {eyebrow && (
            <h2 class="text-base/7 font-semibold text-indigo-600 dark:text-indigo-400">{eyebrow}</h2>
          )}
          <p class="mt-2 text-4xl font-semibold tracking-tight text-pretty text-gray-900 sm:text-5xl dark:text-white">
            {title}
          </p>
          {description && (
            <p class="mt-6 text-lg/8 text-gray-700 dark:text-gray-300">{description}</p>
          )}

          {ctaText && ctaUrl && (
            <div class="mt-8">
              <a href={ctaUrl} class="inline-flex rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 dark:bg-indigo-500 dark:hover:bg-indigo-400 dark:focus-visible:outline-indigo-500">
                {ctaText}
              </a>
            </div>
          )}

          {testimonial && (
            <figure class="mt-16 border-l border-gray-200 pl-8 text-gray-700 dark:border-gray-700 dark:text-gray-300">
              <blockquote class="text-base/7">
                <p>"{testimonial.quote}"</p>
              </blockquote>
              <figcaption class="mt-6 flex gap-x-4 text-sm/6">
                {testimonial.avatar && (
                  <img src={testimonial.avatar} alt="" class="size-6 flex-none rounded-full" />
                )}
                <div>
                  <span class="font-semibold text-gray-900 dark:text-white">{testimonial.author}</span>
                  {' '}â€“{' '}
                  <span class="text-gray-600 dark:text-gray-400">{testimonial.role}</span>
                </div>
              </figcaption>
            </figure>
          )}
        </div>
      </div>

      {screenshot && (
        <img
          width="2432"
          height="1442"
          src={screenshot}
          alt={screenshotAlt}
          class="w-3xl max-w-none rounded-xl shadow-xl ring-1 ring-gray-400/10 sm:w-228 md:-ml-4 lg:ml-0 dark:ring-white/10"
        />
      )}
    </div>
  </div>
</div>
